{"version":3,"sources":["UserData.js"],"names":["window","FC","undefined","userData","UserData","loadSets","cb","$","ajax","url","done","data","getSet","setId","setExists","set","sets","find","x","id","addCardToSet","front","back","method","console","log","cards","push"],"mappings":";;AAAA,IAAIA,OAAOC,EAAP,KAAcC,SAAlB,EAA6B;AAAEF,SAAOC,EAAP,GAAY,EAAZ;AAAiB;;AAEhD,CAAC,YAAW;;AAEV,MAAIE,QAAJ;;AAEAH,SAAOC,EAAP,CAAUG,QAAV,GAAqB;AAEnBC,YAFmB,oBAEVC,EAFU,EAEN;AACXC,QAAEC,IAAF,CAAO;AACLC,aAAK;AADA,OAAP,EAGCC,IAHD,CAGM,UAACC,IAAD,EAAU;AACdR,mBAAWQ,IAAX;AACAL,WAAGK,IAAH;AACD,OAND;AAOD,KAVkB;;;AAYnBC,YAAQ,gBAACC,KAAD,EAAQP,EAAR,EAAe;;AAErB,UAAIQ,YAAY,SAAZA,SAAY,GAAM;AACpB,YAAIC,MAAMZ,SAASa,IAAT,CAAcC,IAAd,CAAmB,UAACC,CAAD,EAAO;AAAE,iBAAOA,EAAEC,EAAF,IAAQN,KAAf;AAAqB,SAAjD,CAAV;AACAP,WAAGS,GAAH;AACD,OAHD;;AAKA,UAAIZ,aAAaD,SAAjB,EAA4B;AAC1BD,WAAGG,QAAH,CAAYC,QAAZ,CAAqBS,SAArB;AACD,OAFD,MAGK;AACHA;AACD;AACF,KAzBkB;;AA2BnBM,kBAAc,sBAACP,KAAD,EAAQQ,KAAR,EAAeC,IAAf,EAAqBhB,EAArB,EAA4B;;AAExCC,QAAEC,IAAF,CAAO;AACLC,aAAK,uBADA;AAELc,gBAAQ,MAFH;AAGLZ,cAAM;AACJE,iBAAOA,KADH;AAEJQ,iBAAOA,KAFH;AAGJC,gBAAMA;AAHF;AAHD,OAAP,EASCZ,IATD,CASM,UAACC,IAAD,EAAU;AACda,gBAAQC,GAAR,CAAY,aAAZ,EAA2Bd,IAA3B;AACA,YAAII,MAAMZ,SAASa,IAAT,CAAcC,IAAd,CAAmB,UAACC,CAAD,EAAO;AAAE,iBAAOA,EAAEC,EAAF,IAAQN,KAAf;AAAqB,SAAjD,CAAV;AACAE,YAAIW,KAAJ,CAAUC,IAAV,CAAehB,IAAf;AACAL,WAAGK,IAAH;AACD,OAdD;AAeD;AA5CkB,GAArB;AA+CD,CAnDD","file":"UserData.js","sourcesContent":["if (window.FC === undefined) { window.FC = {}; }\n\n(function() {\n\n  var userData;\n\n  window.FC.UserData = {\n\n    loadSets(cb) {\n      $.ajax({\n        url: '/api/sets'\n      })\n      .done((data) => {\n        userData = data;\n        cb(data)\n      });\n    },\n\n    getSet: (setId, cb) => {\n\n      var setExists = () => {\n        var set = userData.sets.find((x) => { return x.id == setId});\n        cb(set);\n      };\n\n      if (userData === undefined) {\n        FC.UserData.loadSets(setExists);\n      }\n      else {\n        setExists();\n      }\n    },\n\n    addCardToSet: (setId, front, back, cb) => {\n\n      $.ajax({\n        url: '/api/sets/:setId/card',\n        method: 'POST',\n        data: {\n          setId: setId,\n          front: front,\n          back: back\n        }\n      })\n      .done((data) => {\n        console.log('post result', data);\n        var set = userData.sets.find((x) => { return x.id == setId});\n        set.cards.push(data);\n        cb(data);\n      });\n    }\n  };\n\n})();\n"]}